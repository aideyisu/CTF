# php安全编码

## 定义原理

绝对安全的系统不存在，安全应该不妨碍用户且不过多增加开发难度情况下做到满足需求

所有的输入数据都是有害的

不以来运行环境的安全配置

安全控制措施落实在最后执行阶段

最小化和失败终止

安全是木桶原理,取决于最弱的那一块

## 安全编码

有时给用户的拼接权限太大了

#### 数据库安全

尽量避免直接数据库查询语句拼接

错误数据避免直接输出原本信息,要自己构造错误信息输出

使用的时候要对敏感信息加密存储

md5和sha256

#### 命令执行

如果不可避免,一定要采用白名单方式,并且过滤关键字后再进行拼接

#### XSS

XSS可以直接响应,通过编码抵消前端解析.如果需要存储那就还需要做敏感字符过滤

#### 资源泄漏

pass

#### 本地文件包含

防止RCE攻击,接收文件名必须是白名单

#### 任意文件上传

大小,后缀名,MIME,甚至文件一部分内容都要做完整性校验

可能还要对上传路径,文件名以及权限做进一步限制
